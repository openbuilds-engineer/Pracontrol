var style = `
:host {
  order: -100;
  padding-left: 0.25rem;
  font-size: 0.85em;
}
`

module.exports = class SerialStatusCount extends WebComponentAbstract {
  init() {
    this.renderCss(style)
    
    this.new('a', { textContent: 'Clean buffer' }).on('click', e => self.emit('serialClean'))
    this.newText(' | ')
    var count = this.newText()
    
    self.on('bufferChange', e => {
      var len = this.serial.buffer.buffer.length
      count.textContent = 'Buffer count ' + len
    })
    
    setImmediate(() => self.emit('newPanel', { el: this, position: 'bottom' }))
  }
}
